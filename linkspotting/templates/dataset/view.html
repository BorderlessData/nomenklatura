{%extends "layout.html" %}

{% block title %}
    {{dataset.label}}
{% endblock %}

{% block content %}
    <h2 class="page-header">{{dataset.label}}</h2>
    <a href="{{url_for('dataset.edit', dataset=dataset.name)}}">Edit</a>

    <a href="{{url_for('link.match_random', dataset=dataset.name)}}">Match
        ({{unmatched}})</a>


    <table class="table table-striped">
        <tr>
            <th width="80%">Value</th>
            <th>Links</th>
            <th>Actions</th>
        </tr>
        {% for value in dataset.values %}
            <tr>
                <td><code>{{value.display_value}}</code></td>
                <td>{{value.links.count()}}</td>
                <td><a href="{{url_for('value.view', dataset=dataset.name,
                        value=value.id)}}" class="btn btn-small">edit</a></td>
            </tr>
        {% endfor %}
        <form class="well form-inline" method="POST"
            action="{{url_for('value.create', dataset=dataset.name)}}">
            <tr>
                <td colspan="2">
                    <input type="text" class="input-xlarge" id="value"
                        name="value" placeholder="Add a value...">
                </td>
                <td>
                    <button type="submit" class="btn btn-small btn-primary">add</button>
                </td>
            </tr>
        </form>
    </table>
{% endblock %}

