<h2 class="page-header">{{dataset.label}}</h2>

<div class="row">
  <div class="col-xs-12 col-md-6">
      <p>
          A dataset has a set of named entities.
          Other forms such as different spelling and 
          synonyms are mapped to one of the
          entities as aliases or marked as invalid.
      </p>
      <p>
      <strong>Statistics:</strong>
          <strong>{{dataset.stats.num_entities}}</strong> Entities, 
          <strong>{{dataset.stats.num_aliases}}</strong> Aliases ({{dataset.stats.num_invalid}}
          marked invalid).
      </p>
      <div class="btn-group">
        <a nk-authz dataset="dataset" op="edit" class="btn btn-primary" href="/{{dataset.name}}/match">
          <i class="icon-check icon-white"></i> Reconcile ({{dataset.stats.num_unmatched}})</a>
        <a nk-authz dataset="dataset" op="manage" class="btn btn-default" href="#">
          <i class="icon-cog"></i> Settings</a>
        <a nk-authz dataset="dataset" op="manage" class="btn btn-default" href="" disabled >
          <i class="icon-upload"></i> Import</a>
        <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
            <i class="icon-download"></i>
            Download
            <span class="caret"></span>
        </a>
        <ul class="dropdown-menu" role="menu">
            <li><a href="#">Mappings (CSV with entities and aliases)</a></li>
            <li><a href="#">Code sheet (CSV with only entities)</a></li>
        </ul>
      </div>
      <br>
          Aliases are added via the <a href="/#/about">API</a>, by matching names against this
          endpoint:
      </p>
      <pre><code>bla/lookup</code></pre>
      <p>
          An <a href="https://github.com/OpenRefine/OpenRefine">OpenRefine</a>
          reconciliation endpoint is available as well (read-only):
      </p>
      <pre><code>bla/reconcile</code></pre>
  </div>
  <div class="col-xs-12 col-md-6">
       
      <form class="form-horizontal" role="form">
          <div class="form-group">
              <input type="text" class="search-query form-control"
                  name="query" value="{{query}}" placeholder="Find an entity">
          </div>
      </form>
      
      <table class="table table-striped table-condensed">
          <tr>
              <th width="90%">Name</th>
              <th>Aliases</th>
          </tr>
          <tr ng-repeat="entity in entities.results">
              <td><a href="/{{dataset.name}}/entities/{{entity.id}}">{{entity.name}}</a></td>
              <td>{{entity.num_aliases}}</td>
          </tr>
          <form nk-authz dataset="dataset" op="edit" class="well form-inline">
              <tr>
                  <td colspan="1">
                      <input type="text" class="form-control" id="name"
                          name="name" placeholder="Add an entity...">
                  </td>
                  <td>
                      <button type="submit" class="btn btn-small btn-primary">add</button>
                  </td>
              </tr>
          </form>
      </table>
  </div>
</div>
